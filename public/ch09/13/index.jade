extends ../layout

block vars
  - var body_attrs = {'ng-controller':'DiveLogController'}
  - var script = '13.js'
  - var style = '13.css'
  - var title = "Header with Buttons"

block content
  div(layout='column',latout-fill)
    md-toolbar
      .md-toolbar-tools
        | My latest dives
        span(flex)
        md-icon border_color
        md-button(
          ng-click="displayAll()"
          ng-class="!showLongest && !showDeepest ? 'md-accent md-hue-1' : ''"
        ) None
        md-button(
          ng-click="displayLongest()"
          ng-class="showLongest ? 'md-accent md-hue-1' : ''"
        ) Longest
        md-button(
          ng-click="displayDeepest()"
          ng-class="showDeepest ? 'md-accent md-hue-1' : ''"
        ) Deepest
    md-content(layout='row',layout-wrap)
      div(flex=33,ng-repeat='dive in dives')
        md-card
          md-card-content(
            ng-class="{longest: showLongest && longest === $index, deepest: showDeepest && deepest === $index}"
          )
            h1 {{dive.depth}} feet | {{dive.time}} min
            h2 {{dive.site}}
            h3 {{dive.location}}

append scripts
  script(type='text/javascript')
    :coffee-script
      angular
      .module 'myApp', ['ngMaterial', 'dives']
      .config ($mdThemingProvider) ->
        $mdThemingProvider.theme 'default'
        .primaryPalette 'red'
        .accentPalette 'orange'
