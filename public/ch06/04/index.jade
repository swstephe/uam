extends ../layout

block vars
  - var body_attrs = {'ng-controller':'SimpleFormController'}
  - var messages = true
  - var style = '04.css'
  - var title = "Simple form"

block content
  md-toolbar.md-toolbar-tools
    h1 Simple form
  md-content
    form(name='simple',novalidate,layout-margin)
      div(layout='column')
        md-input-container(md-no-float)
          md-icon.material-icons.label-icon person
          input(
            name='name'
            ng-model='user.name'
            required
            md-maxlength=32
            placeholder="Type your name"
          )
          div(ng-messages='simple.name.$error',ng-show='simple.name.$dirty')
            div(ng-message='required') Please provide a name!
            div(ng-message='md-maxlength') This name is too long!
        md-input-container(md-no-float)
          md-icon.material-icons.label-icon email
          input(
            type='email'
            name='email'
            ng-model='user.email'
            required
            md-maxlength=64
            placeholder="Email"
          )
          div(ng-messages='simple.email.$error',ng-show='simple.email.$dirty')
            div(ng-message='required') Please provide an email!
            div(ng-message='email') Type in a valid email address!
        md-input-container(md-no-float)
          md-icon(style={'color': '#03A9F4'}) comment
          br
          textarea(
            name='comments'
            ng-model='user.comments'
            md-maxlength=1024
            columns=1
            rows=3
            placeholder="Your optional comments"
          )
      md-button.md-raised.md-primary(
        ng-click="register(user)"
        ng-disabled='simple.$invalid'
      ) Submit your comments
    md-divider
    div(layout-margin)
      code {{registeredUser|json}}

append scripts
  script
    :coffee-script
      angular.module 'input', []
      .controller 'SimpleFormController', [
        '$scope'
        ($scope) ->
          $scope.registeredUser = {}
          $scope.register = (user) -> $scope.registeredUser = user
      ]
      angular.module 'myApp', ['ngMaterial', 'ngMessages', 'input']
