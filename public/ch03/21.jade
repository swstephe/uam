doctype html
html(lang='en')
  head
    title Simple Layout
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible',content='IE=edge')
    meta(name='description',content='')
    meta(name='viewport',content='initial-scale=1,maximum-scale=1,user-scalable=no')
    link(rel='stylesheet',href='/angular-material/angular-material.css')
    link(rel='stylesheet',href='http://fonts.googleapis.com/css?family=Roboto:400,500,700,400italic')
    style.
      md-toolbar h1 {
        margin: auto;
        font-weight: 400;
      }

      div.layout-row div.flex-25,
      div.layout-row div.flex-33,
      div.layout-row div.flex-50 {
        border: 1px dotted gray;
        background-color: #FFE0B2;  /* Orange 100 */
        text-align: center;
        padding: 16px;
        box-sizing: border-box;
      }
      #content .smallPadding { padding: 8px 16px; }
      #content .normalPadding { padding: 24px 40px; }
  body(ng-app='myApp',layout='row',ng-controller='LayoutController')
    // Single column
    div(flex,layout='column',tabIndex=-1,role='main')
      md-toolbar(layout='row')
        h1 &nbsp;&nbsp;{{__layout.screen}}
      md-content#content(ng-controller='CitiesController')
        div(layout='row',layout-wrap,ng-class='__layout.paddingStyle')
          div(ng-class="'flex-' + __layout.itemSize",ng-repeat='city in cities')
            | {{city}}
    script(src='/angular/angular.js')
    script(src='/angular-animate/angular-animate.js')
    script(src='/angular-aria/angular-aria.js')
    script(src='/angular-material/angular-material.js')
    script(type='text/javascript')
      :coffee-script
        angular
        .module 'layout', []
        .controller 'LayoutController', [
          '$mdMedia'
          '$scope'
          ($mdMedia, $scope) ->
            self = @
            $scope.$watch(
              -> if $mdMedia('sm') then 'small' else if $mdMedia('md') then 'medium' else 'large'
              (size) ->
                self.screenSize = size
                $scope.__layout =
                  screen: size
                  paddingStyle: getPaddingStyle()
                  itemSize: getItemSize()
            )
            getPaddingStyle = ->
              if self.screenSize == 'small' then 'smallPadding' else 'normalPadding'
            getItemSize = ->
              switch self.screenSize
                when 'small' then 50
                when 'medium' then 33
                else 25
            true
        ]
        angular
        .module 'cities', []
        .controller 'CitiesController', [
          '$scope'
          ($scope) ->
            $scope.cities = [
              "Brussels"
              "Budapest"
              "Oslo"
              "New York"
              "Rome"
              "Seattle"
            ]
        ]
        angular.module 'myApp', ['ngMaterial','layout', 'cities']
